url: https://www.imooc.com/course/playlist/20053?t=m3u8&_id=5d5e74f2255ba94d7475f822&cdn=aliyun1

get:
{"result":1,"data":{"info":"JmAhk5kkIVRkd...RbkzDNR3es0smKKkqg9fT","cdn":["aliyun","aliyun1","letv"]},"msg":""}

info:
"JmAhk5kkIVRkdVQlVC...TVENUbEtUZVRYWAw1VFVUZ1QGRA==tdfRbkzDNR3es0smKKkqg9fT"

decoded:
"#EXTM3U
#EXT-X-VERSION:3
#EXT-X-STREAM-INF:PROGRAM-ID=1, BANDWIDTH=512000, RESOLUTION=1280x720
https://www.imooc.com/video/5d5e74f2255ba94d7475f822/medium.m3u8?cdn=aliyun1&ssl=1&hxk_uri=aHR0cHM6Ly93d3cuaW1vb2MuY29tL3ZpZGVvLzVkNWU3NGYyMjU1YmE5NGQ3NDc1ZjgyMi9tZWRpdW0uaHhrP3RpbWVzdGFtcD0xNjA1MjIwMDM5JnRva2VuPWltb29jJTNBWkdVd1kyVmtOR1EyT0daaVl6UXlaVEJqTldGa056ZGlPVGs0WkRRd1pETmlNelU0TmpNMVpRJTNEJTNE&timestamp=1605220039&token=imooc%3AMzc0YTdmZTAxN2ZmNGQ1N2MzNjc5MDUwYmE2N2Y1NDViODc2ZWM2NA%3D%3D
#EXT-X-STREAM-INF:PROGRAM-ID=1, BANDWIDTH=384000, RESOLUTION=1280x720
https://www.imooc.com/video/5d5e74f2255ba94d7475f822/medium.m3u8?cdn=aliyun1&ssl=1&hxk_uri=aHR0cHM6Ly93d3cuaW1vb2MuY29tL3ZpZGVvLzVkNWU3NGYyMjU1YmE5NGQ3NDc1ZjgyMi9tZWRpdW0uaHhrP3RpbWVzdGFtcD0xNjA1MjIwMDM5JnRva2VuPWltb29jJTNBWkdVd1kyVmtOR1EyT0daaVl6UXlaVEJqTldGa056ZGlPVGs0WkRRd1pETmlNelU0TmpNMVpRJTNEJTNE&timestamp=1605220039&token=imooc%3AMzc0YTdmZTAxN2ZmNGQ1N2MzNjc5MDUwYmE2N2Y1NDViODc2ZWM2NA%3D%3D
#EXT-X-STREAM-INF:PROGRAM-ID=1, BANDWIDTH=256000, RESOLUTION=720x480
https://www.imooc.com/video/5d5e74f2255ba94d7475f822/low.m3u8?cdn=aliyun1&ssl=1&hxk_uri=aHR0cHM6Ly93d3cuaW1vb2MuY29tL3ZpZGVvLzVkNWU3NGYyMjU1YmE5NGQ3NDc1ZjgyMi9sb3cuaHhrP3RpbWVzdGFtcD0xNjA1MjIwMDM5JnRva2VuPWltb29jJTNBWkdVd1kyVmtOR1EyT0daaVl6UXlaVEJqTldGa056ZGlPVGs0WkRRd1pETmlNelU0TmpNMVpRJTNEJTNE&timestamp=1605220039&token=imooc%3AMGNlNzY3NTY1YWE4NDRmYmQ5MjVmZjUyMGMzNmE0MGJhODUwYzk1MA%3D%3D"

url:
https://www.imooc.com/video/5d5e74f2255ba94d7475f822/medium.m3u8?cdn=aliyun1&ssl=1&hxk_uri=aHR0cHM6Ly93d3cuaW1vb2MuY29tL3ZpZGVvLzVkNWU3NGYyMjU1YmE5NGQ3NDc1ZjgyMi9tZWRpdW0uaHhrP3RpbWVzdGFtcD0xNjA1MjIwMDM5JnRva2VuPWltb29jJTNBWkdVd1kyVmtOR1EyT0daaVl6UXlaVEJqTldGa056ZGlPVGs0WkRRd1pETmlNelU0TmpNMVpRJTNEJTNE&timestamp=1605220039&token=imooc%3AMzc0YTdmZTAxN2ZmNGQ1N2MzNjc5MDUwYmE2N2Y1NDViODc2ZWM2NA%3D%3D

get:
{"code":200,"data":{"info":"I1mRhmmUVEVUVFRYVE1UV...FRUWFQtVFRUWC1UVFRFVFRUTkRJVExUVFNUVFRU"},"msg":"OK"}

info:
"I1mRhmmUVEVUVFRYVE...FRUWFQtVFRUWC1UVFRFVFRUTkRJVExUVFNUVFRU"

decoded:
#EXTM3U
#EXT-X-VERSION:3
#EXT-X-TARGETDURATION:5
#EXT-X-MEDIA-SEQUENCE:0
#EXT-X-KEY:METHOD=AES-128,URI="https://www.imooc.com/video/5d5e74f2255ba94d7475f822/medium.hxk?timestamp=1605220039&token=imooc%3AZGUwY2VkNGQ2OGZiYzQyZTBjNWFkNzdiOTk4ZDQwZDNiMzU4NjM1ZQ%3D%3D"
#EXTINF:5.000000,
https://video1.sycdn.imooc.com/5d5e74f2255ba94d7475f825/M/43e63e57059b18ce.ts
#EXTINF:5.000000,
https://video1.sycdn.imooc.com/5d5e74f2255ba94d7475f825/M/55ab5487b21ee5b3.ts
#EXTINF:5.000000,
https://video1.sycdn.imooc.com/5d5e74f2255ba94d7475f825/M/4d6218063fad6f50.ts
...
#EXT-X-ENDLIST

url:
https://www.imooc.com/video/5d5e74f2255ba94d7475f822/medium.hxk?timestamp=1605220039&token=imooc%3AZGUwY2VkNGQ2OGZiYzQyZTBjNWFkNzdiOTk4ZDQwZDNiMzU4NjM1ZQ%3D%3D

get:
{"code":200,"data":{"info":"9Shkh5kqTe\/F\/Zvx20byNpXOpw==ciAfEp6IucNBMwQsv3HbrIZ7"},"msg":"OK"}

info:
"9Shkh5kqTe\/F\/Zvx20byNpXOpw==ciAfEp6IucNBMwQsv3HbrIZ7"

decode: n(d3, true):
key: Uint8Array(16) [219, 181, 127, 88, 88, 251, 187, 176, 135, 108, 220, 193, 187, 88, 222, 178]
hex:
dbb57f5858fbbbb0876cdcc1bb58deb2

iv: Uint8Array(16) [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
00000000000000000000000000000000


openssl aes-128-cbc -d -in /路径/media_0.ts -out /路径/media_decryptd_0.ts -nosalt -iv $iv -K $strkey
openssl aes-128-cbc -d -in /路径/media_0.ts -out /路径/media_decryptd_0.ts -nosalt -iv $iv -K $strkey
openssl aes-128-cbc -d -in .ts -out out.ts -nosalt -iv 0fe82567a6be41afda68d82d3724976a -K MS0N6EXYiYci5dJi
openssl aes-128-cbc -d -in e_20170519032524-ggauw1x00qo0okgk-conv_hd_seg_0.ts -out out.ts -nosalt -iv 0fe82567a6be41afda68d82d3724976a -K 6262363339376561333361366565363461363433




https://edu.aliyun.com/course/1011/lesson/8796/player

2 m3u8 urls:
data-url="https://edu.aliyun.com/hls/5532/playlist/w7piHPr0dd33P6xHDUfsQ5LQFDPT6W7K.m3u8?courseId=1011"

var iv = new Uint8Array([15, 232, 37, 103, 166, 190, 65, 175, 218, 104, 216, 45, 55, 36, 151, 106])
const keyBase64 = Buffer.from(iv).toString("hex")
iv:
0fe82567a6be41afda68d82d3724976a

var k = new Uint8Array([98, 98, 54, 51, 57, 55, 101, 97, 51, 51, 97, 54, 101, 101, 54, 52, 97, 54, 52, 51])
const key = Buffer.from(k).toString("hex")
key:
6262363339376561333361366565363461363433

const a = new Int8Array([98, 98, 54, 51, 57, 55, 101, 97, 51, 51, 97, 54, 101, 101, 54, 52, 97, 54, 52, 51])
const b = new Int16Array([25186, 13110, 14137, 24933, 13107, 13921, 25957, 13366, 13921, 13108])
const c = new Int32Array([859202146, 1634023225, 912339763, 875980133, 859059809])
const d = new Uint8Array([98, 98, 54, 51, 57, 55, 101, 97, 51, 51, 97, 54, 101, 101, 54, 52, 97, 54, 52, 51])
const o = new ArrayBuffer(a, b, c, d)

